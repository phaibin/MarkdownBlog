---
title: Mac双网卡同时连接内外网
date: 2019-01-10 16:01
---
现在的环境是：wifi是en4，可以连外网，有线是en0，可以连内网。

首先在网络设置里面把wifi设为第一位，然后调整路由表：

```
sudo route add 192.168.1.0/24 192.168.9.1
sudo route add 192.168.7.0/24 192.168.9.1
```

192.168.1.0和192.168.7.0都是内网网段，192.168.9.1为内网网关。

这样设置之后就可以连接内网了。查看路由的命令是：netstat -nr。

但是重启之后路由的设置就丢了，转为使用networksetup命令：

```
networksetup -setadditionalroutes "Ethernet" 192.168.1.0 255.255.255.0 192.168.9.1 192.168.7.0 255.255.255.0 192.168.9.1
```

可以使用`networksetup -listallnetworkservices`命令来查看要设置的网卡。

这样设置之后即使重启路由也一样保存下来了。